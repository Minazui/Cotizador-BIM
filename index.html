<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cotizador de Entidades BIM</title>
  <meta name="theme-color" content="#2f5d4a">
  <link rel="icon" type="image/x-icon" href="assets/nabe.ico">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>


  <!-- =============================================
       BOTÃ“N FLOTANTE â€” Abre historial en mÃ³vil
  ============================================== -->
  <button id="toggleHistorial" class="toggle-historial" aria-label="Ver historial">
    <span class="historial-count" id="contadorHistorial">0</span>
    ðŸ“‹
  </button>


  <!-- =============================================
       OVERLAY â€” Cierra el panel al clic afuera
  ============================================== -->
  <div id="overlay" class="overlay"></div>


  <!-- =============================================
       PANEL HISTORIAL â€” Lateral derecho
  ============================================== -->
  <div id="panelHistorial" class="panel-historial">
    <div class="panel-header">
      <h3>Historial</h3>
      <button id="cerrarHistorial" class="cerrar-historial" aria-label="Cerrar historial">Ã—</button>
    </div>
    <ul id="listaHistorial"></ul>
    <div class="total-acumulado">
      Total: <strong id="totalAcumulado">$ 0</strong>
    </div>
  </div>


  <!-- =============================================
       PANEL TOOLTIP â€” Lateral izquierdo de ayuda
  ============================================== -->
  <div id="panelTooltip" class="panel-tooltip">
    <button id="cerrarTooltip" aria-label="Cerrar tooltip">âœ•</button>
    <div id="contenidoTooltip"></div>
  </div>


  <!-- =============================================
       PANTALLA 1 â€” Datos del cliente
  ============================================== -->
  <div id="formCliente" class="pantalla pantalla-activa">
    <form id="clienteForm" class="form-cliente">

      <div class="titulo-con-logo">
        <img src="assets/nabe.png" alt="Logo Nabe" class="logo-titulo">
        <h1>Cotizador de CreaciÃ³n de Entidades Nabe</h1>
      </div>

      <p>Antes de comenzar, necesitamos tus datos.</p>

      <label>Nombre completo *</label>
      <input type="text" id="clienteNombre" required>

      <label>Empresa</label>
      <input type="text" id="clienteEmpresa">

      <label>Email *</label>
      <input type="email" id="clienteEmail" required>

      <label>TelÃ©fono</label>
      <input type="text" id="clienteTelefono">

      <div class="terminos-container">
        <label class="terminos-label">
          <input type="checkbox" id="aceptaTerminos">
          <span>
            Acepto la
            <a href="politica.html" target="_blank">PolÃ­tica de Tratamiento de Datos</a>
            y autorizo el uso de mi informaciÃ³n para fines comerciales y contractuales.
          </span>
        </label>
      </div>

      <button type="button" id="btnContinuar">Continuar</button>

    </form>
  </div>


  <!-- =============================================
       PANTALLA 2 â€” Formulario tÃ©cnico / cotizador
  ============================================== -->
  <div id="formTecnico" class="pantalla">
    <form id="cotizadorForm">

      <h1>Cotizador de CreaciÃ³n de Entidades</h1>
      <p>Complete el formulario para cotizar entidades BIM.</p>

      <!-- P1: Identificador -->
      <label>1. Identificador de la entidad *</label>
      <input type="text" name="identificador" required>

      <!-- P2: Software -->
      <label>
        2. Â¿La entidad es nativa de Revit?
        <span class="icono-info" data-tooltip="software">â“˜</span>
      </label>
      <select name="software" id="software" required>
        <option value="">Seleccione</option>
        <option value="nativo">Entidad nativa de Revit</option>
        <option value="externo">Necesita software externo</option>
      </select>

      <!-- P3: ParamÃ©trica -->
      <label>
        3. Â¿La entidad debe ser paramÃ©trica?
        <span class="icono-info" data-tooltip="parametrica">â“˜</span>
      </label>
      <select name="parametrica" id="parametrica">
        <option value="no">No</option>
        <option value="basica">ParÃ¡metros bÃ¡sicos</option>
        <option value="compleja">ParÃ¡metros complejos</option>
      </select>

      <!-- P4: CategorÃ­a -->
      <label>
        4. CategorÃ­a
        <span class="icono-info" data-tooltip="categoria">â“˜</span>
      </label>
      <select name="categoria" id="categoria">
        <option>Mobiliario</option>
        <option>Mueble de obra</option>
        <option>Aparato elÃ©ctrico</option>
        <option>Aparato sanitario</option>
        <option>Luminaria</option>
        <option>Puerta</option>
        <option>Ventana</option>
        <option>General</option>
      </select>

      <!-- P5: LOD -->
      <label>
        5. Nivel de detalle (LOD)
        <span class="icono-info" data-tooltip="lod">â“˜</span>
      </label>
      <select name="lod" id="lod">
        <option>LOD 100</option>
        <option>LOD 200</option>
        <option>LOD 300</option>
        <option>LOD 400</option>
      </select>

      <!-- P6: SimbologÃ­a 2D -->
      <label>
        6. Â¿Requiere simbologÃ­a 2D adicional?
        <span class="icono-info" data-tooltip="simbologia">â“˜</span>
      </label>
      <select name="simbolo2d" id="simbolo2d">
        <option>No</option>
        <option>SÃ­</option>
      </select>

      <!-- P7: MEP -->
      <label>
        7. Â¿Tiene conexiones MEP?
        <span class="icono-info" data-tooltip="mep">â“˜</span>
      </label>
      <select name="mep" id="mep">
        <option>No</option>
        <option>SÃ­</option>
      </select>

      <!-- P8: Tipos -->
      <label>
        8. Â¿Requiere configuraciÃ³n de tipos?
        <span class="icono-info" data-tooltip="tipos">â“˜</span>
      </label>
      <select name="tipos" id="tipos">
        <option>No</option>
        <option>SÃ­</option>
      </select>

      <!-- P9: Cantidad -->
      <label>
        9. Cantidad de entidades
        <span class="icono-info" data-tooltip="cantidad">â“˜</span>
      </label>
      <input type="number" name="cantidad" min="1" value="1">

      <!-- Total -->
      <label>Total estimado</label>
      <input type="text" id="totalCotizacion" readonly>

      <button type="submit">Agregar Producto</button>

    </form>
  </div>


  <!-- =============================================
       PANTALLA 3 â€” Post envÃ­o (agregar / finalizar)
  ============================================== -->
  <div id="postEnvio" style="display:none; text-align:center;">

    <h2>CotizaciÃ³n enviada</h2>
    <p>Â¿Deseas agregar otra entidad o finalizar?</p>

    <div class="g-recaptcha" data-sitekey="6LecS3AsAAAAAJdUnZTzPWdzm3168mrblJDAJHyS"></div>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <div class="post-buttons">
      <button type="button" id="otraEntidad">Agregar otra entidad</button>
      <button type="button" id="finalizar">Finalizar</button>
    </div>

    <div id="historialMovil" class="historial-movil"></div>

  </div>


  <!-- =============================================
       PANTALLA 4 â€” Mensaje final y clÃ¡usula
  ============================================== -->
  <div id="mensajeFinal" style="display:none;">

    <h2 class="mensaje-gracias">Gracias por confiar en nosotros.</h2>

    <div id="clausulaFinal" class="clausula-final">
      <p class="texto-clausula">
        Esta cotizaciÃ³n tiene una vigencia de
        <strong>15 dÃ­as calendario</strong> a partir de la fecha de emisiÃ³n.
        Pasado este plazo, los valores podrÃ¡n ajustarse segÃºn el alcance definitivo del proyecto.
      </p>

      <div class="redes-sociales">
        <a href="https://www.instagram.com/nabeproyectos?igsh=a3VsbHE5ZzdvN3d0" target="_blank"><i class="fab fa-instagram"></i></a>
        <!--<a href="https://twitter.com/TU_USUARIO" target="_blank"><i class="fab fa-x-twitter"></i></a>-->
        <a href="https://wa.me/573128205090" target="_blank"><i class="fab fa-whatsapp"></i></a>
      </div>
    </div>

    <!-- Modal PolÃ­tica de Datos -->
    <div id="modalPolitica" class="modal-politica">
      <div class="contenido-politica">
        <span id="cerrarPolitica">&times;</span>
        <h2>PolÃ­tica de Tratamiento de Datos</h2>
        <p>El estudio de arquitectura N.A.B.E utilizarÃ¡ los datos personales Ãºnicamente para fines comerciales y contractuales...</p>
      </div>
    </div>

  </div>


  <script src="script.js"></script>
</body>
</html>