<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cotizador de Entidades BIM</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/x-icon" href="assets/nabe.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta name="theme-color" content="#2f5d4a">
</head>
<body>

  <!-- Boton flotante para abrir historial en celular -->
  <button id="toggleHistorial" class="toggle-historial" aria-label="Ver historial">
    <span class="historial-count" id="contadorHistorial">0</span>
    ðŸ“‹
  </button>

  <!-- Panel de Historial -->
  <div id="panelHistorial" class="panel-historial">
    <div class="panel-header">
      <h3>Historial</h3>
      <button id="cerrarHistorial" class="cerrar-historial" aria-label="Cerrar historial">Ã—</button>
    </div>
    <ul id="listaHistorial"></ul>
    <div class="total-acumulado">
      Total: <strong id="totalAcumulado">$ 0</strong>
    </div>
  </div>

  <!-- Overlay para cerrar el panel al hacer clic fuera -->
  <div id="overlay" class="overlay"></div>

  <div id="formCliente" class="pantalla pantalla-activa">
    <form id="clienteForm" class="form-cliente">
      <div class="titulo-con-logo">
        <img src="assets/nabe.png" alt="Logo Nabe" class="logo-titulo">
        <h1>Cotizador de CreaciÃ³n de Entidades Nabe</h1>
      </div>

      <p>Antes de comenzar, necesitamos tus datos.</p>

      <label>Nombre completo *</label>
      <input type="text" id="clienteNombre" required>

      <label>Empresa</label>
      <input type="text" id="clienteEmpresa">

      <label>Email *</label>
      <input type="email" id="clienteEmail" required>

      <label>TelÃ©fono</label>
      <input type="text" id="clienteTelefono">

      <button type="button" id="btnContinuar">Continuar</button>
    </form>
  </div>

  <div id="panelTooltip" class="panel-tooltip">
    <button id="cerrarTooltip" aria-label="Cerrar tooltip">âœ•</button>
    <div id="contenidoTooltip"></div>
  </div>

  <div id="formTecnico" class="pantalla">

    <form id="cotizadorForm">
      <h1>Cotizador de CreaciÃ³n de Entidades</h1>
      <p>Complete el formulario para cotizar entidades BIM.</p>

      <!-- P1 -->
      <label>
        1. Identificador de la entidad *
      </label>
      <input type="text" name="identificador" required>

      <!-- P2 -->
      <label>
        2. Â¿La entidad es nativa de Revit?
        <span class="icono-info" data-tooltip="software">â“˜</span>
      </label>

      <select name="software" id="software" required>
        <option value="">Seleccione</option>
        <option value="nativo">Entidad nativa de Revit</option>
        <option value="externo">Necesita software externo</option>
      </select>

      <!-- P3 -->
      <label>
        3. Â¿La entidad debe ser paramÃ©trica?
        <span class="icono-info" data-tooltip="parametrica">â“˜</span>
      </label>
      <select name="parametrica" id="parametrica">
        <option value="no">No</option>
        <option value="basica">ParÃ¡metros bÃ¡sicos</option>
        <option value="compleja">ParÃ¡metros complejos</option>
      </select>

      <!-- P4 -->
      <label>
        4. CategorÃ­a
        <span class="icono-info" data-tooltip="categoria">â“˜</span>
      </label>
      <select name="categoria" id="categoria">
        <option>Mobiliario</option>
        <option>Mueble de obra</option>
        <option>Aparato elÃ©ctrico</option>
        <option>Aparato sanitario</option>
        <option>Luminaria</option>
        <option>Puerta</option>
        <option>Ventana</option>
        <option>General</option>
      </select>

      <!-- P5 -->
      <label>
        5. Nivel de detalle (LOD)
        <span class="icono-info" data-tooltip="lod">â“˜</span>
      </label>
      <select name="lod" id="lod">
        <option>LOD 100</option>
        <option>LOD 200</option>
        <option>LOD 300</option>
        <option>LOD 400</option>
      </select>

      <!-- P6 -->
      <label>
        6. Â¿Requiere simbologÃ­a 2D adicional?
        <span class="icono-info" data-tooltip="simbologia">â“˜</span>
      </label>
      <select name="simbolo2d" id="simbolo2d">
        <option>No</option>
        <option>SÃ­</option>
      </select>

      <!-- P7 -->
      <label>
        7. Â¿Tiene conexiones MEP?
        <span class="icono-info" data-tooltip="mep">â“˜</span>
      </label>
      <select name="mep" id="mep">
        <option>No</option>
        <option>SÃ­</option>
      </select>

      <!-- P8 -->
      <label>
        8. Â¿Requiere configuraciÃ³n de tipos?
        <span class="icono-info" data-tooltip="tipos">â“˜</span>
      </label>
      <select name="tipos" id="tipos">
        <option>No</option>
        <option>SÃ­</option>
      </select>

      <!-- P9 -->
      <label>
        9. Cantidad de entidades
        <span class="icono-info" data-tooltip="cantidad">â“˜</span>
      </label>
      <input type="number" name="cantidad" min="1" value="1">

      <label>Total estimado</label>
      <input type="text" id="totalCotizacion" readonly>

      <button type="submit">Agregar Producto</button>
    </form>
  </div>


  <div id="postEnvio" style="display:none; text-align:center;">
    <h2>CotizaciÃ³n enviada</h2>
    <p>Â¿Deseas agregar otra entidad o finalizar?</p>
    <div class="g-recaptcha" data-sitekey="6LecS3AsAAAAAJdUnZTzPWdzm3168mrblJDAJHyS"></div>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <div class="post-buttons">
      <button type="button" id="otraEntidad">Agregar otra entidad</button>
      <button type="button" id="finalizar">Finalizar</button>
    </div>
    <div id="historialMovil" class="historial-movil"></div>

  </div>

  <div id="mensajeFinal" style="display:none; text-align:center;">
    <h2>Â¡Gracias!</h2>
    <p>Hemos recibido tu solicitud de cotizaciÃ³n.<br>
    Nos pondremos en contacto contigo pronto.</p>
  </div>
  <div id="clausulaFinal" class="clausula-final" style="display:none;">
  
  <p class="texto-clausula">
    La presente cotizaciÃ³n tiene una vigencia de <strong>15 dÃ­as calendario</strong> 
    a partir de la fecha de emisiÃ³n. 
    Transcurrido este plazo, los valores podrÃ¡n estar sujetos a revisiÃ³n 
    segÃºn condiciones tÃ©cnicas y alcance definitivo del proyecto.
  </p>

  <div class="redes-sociales">
    <a href="https://instagram.com/TU_USUARIO" target="_blank">
      <i class="fab fa-instagram"></i>
    </a>
    <a href="https://twitter.com/TU_USUARIO" target="_blank">
      <i class="fab fa-x-twitter"></i>
    </a>
    <a href="https://wa.me/57XXXXXXXXXX" target="_blank">
      <i class="fab fa-whatsapp"></i>
    </a>
  </div>
  </div>


  <script src="script.js"></script>
</body>
</html>